
# Section 11

## 모듈 소개

K8S : 도커 컨테이너를 베포하는 도구, 오케스트레이션 및 대규모 베포
- K8S는 오픈소스 시스템이다.  

## 수동베포의 문제점

컨테이너의 수동 베포의 문제점 
- 컨테이너 충돌, 다운, 새컨테이너 교체 , 롤백 등  
- 다운되었을때 수동으로 모니터링, 스스로 다시 시작하게끔  
- 트래픽 급증시 더 많은 컨테이너 인스턴스
- 컨테이너의 분산처리, 로드벨런싱 등  


## 왜 K8S 인가 

AWS ECS 가 기능을 해줄 수 있다.  

## K8S 정확히 무엇인가  

가능한 것
- 베포하는 방식
- 컨테이너 스케일링
- 실패할 경우, 모니터링 방법 및 컨테이너 교체 방법 정의 
- 자동 베포, 스케일링, 로드 밸런싱

## K8S 아키텍쳐 & 핵심 개념

Pod : 가장 작은 관리의 단위, 단순히 여러 컨테이너를 보유
Workder Node : 파드를 실행하는 머신, eg) EC2 등
Proxy : 워커노드의 네트워크, 파드가 연결 가능한지 eg) 외부 인터넷이 파드에 도달할 수 있도록
Master Node : 
 - Control Plane : 직접 워커노드와 상호작용할순 있지만, 컨트롤플랜을 통해 제어한다.  

Clustor : Worker Node + Master Node 들이 클러스터를 형성  
 - Cloud Provider API : 클러스터에 필요한 자원들을 요청하는 네트워크 - EC2,로드밸런서 등 


## K8S 는 인프라를 관리하지 않는다.  

인프라 셋업은 직접 해야 한다. 
- 각 노드 생성 및 k8s SW 설치 
- Cloud Provider 리스소 연동

그러면 K8S 가 해주는 것
- objects(pod) 생성, 관리, deployment 셋업의 프로비져닝


## 워커 노드 구성 

워커노드에 있는것  
    Docker deamon. 
    kubelet : 소프트웨어 서비스이며, 마스터 노드와 통신하여 노드의 포트를 제어하도록 함. *   
    kube-proxy : 들어오고 나가는 네트워크 트래픽을 처리하는 책임 *  
    Pod : 여러종류의 파드들이 있을 수 있고, 파드 안에는 여러 컨테이너 및 볼륨이 존재할 수 있음.   

## 마스터 노드의 구성  

API Server : kubelet 서비스를 제어가능한 API *  
Scheduler : 파드 관찰, 새포드 생성되어야 할 위치 선정, 워커노드가 무엇을 해야하는지 APIServer에 알림  *    
Kube-Controller-Manager : 워커 노드 전체 감시 및 제어,*   
 - Cloud Controller Manange : 클라우드 프로바이더 까지 알려주는 역할을 더한다.    


## 용어

클러스터 : 노드 머신들 (워커+마스터) + 그외 , 최종 베포 상태의 컬렉션 세트  
노드 : 물리적인 혹은 가상 머신. 포드를 호스팅하는 단위   
서비스 : 논리적인 세트, 독립적인 IP주소를 가진 포드 그룹  
  - 프록시와 관련이 있으며, 서비스는 특정 포드를 외부세계에 노출 가능
